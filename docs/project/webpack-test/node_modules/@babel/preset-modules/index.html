<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>@babel/preset-modules | Jerome&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/Jerome-Blog/logo.svg">
    <meta name="description" content="前端记录">
    <link rel="preload" href="/Jerome-Blog/assets/css/0.styles.7fcc56ab.css" as="style"><link rel="preload" href="/Jerome-Blog/assets/js/app.d4be290d.js" as="script"><link rel="preload" href="/Jerome-Blog/assets/js/2.2c15370a.js" as="script"><link rel="preload" href="/Jerome-Blog/assets/js/110.123dfd06.js" as="script"><link rel="prefetch" href="/Jerome-Blog/assets/js/10.e9703c74.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/100.4bce2ec0.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/101.1a604aa3.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/102.fe92f9b8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/103.38e7c80c.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/104.5f2c6a38.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/105.0581fd1e.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/106.f2beac9f.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/107.55d7180a.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/108.1c9ae9eb.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/109.1bc28f2f.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/11.e81d455d.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/111.f7d49faf.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/112.6eb11d60.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/113.e2743563.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/114.95f3090e.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/115.3c2199c4.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/116.643b3f63.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/117.06d056ec.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/118.8fc57779.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/119.f956d27b.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/12.9b49ecb4.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/120.0eddda0e.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/121.9ff91f80.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/122.08e29719.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/123.ba424ee3.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/124.8c442b42.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/125.d2d615e0.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/126.57406f74.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/127.fab2cf52.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/128.5582dded.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/129.ffbfa7a9.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/13.7987818b.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/130.2d655990.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/131.cdd2dd90.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/132.cbe1c794.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/133.76384de0.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/134.f3b5e7a8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/135.74f854e8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/136.2aebe94c.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/137.32f0b7f4.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/138.912effaa.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/139.ad128878.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/14.38debf78.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/140.4938fd11.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/141.e77303c4.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/142.e2eb19f3.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/143.bc008670.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/144.051cbdb9.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/145.915e76c9.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/146.b3a637e0.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/147.5acc81cb.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/148.6d4da13a.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/149.78c5c57d.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/15.9cd88390.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/150.44e57205.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/151.6c17b05f.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/152.0a360a18.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/153.8ff05dea.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/154.7bf86f55.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/155.26fd8d1f.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/156.88ced080.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/157.2c69513f.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/158.8cb7a9db.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/159.8dc38d03.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/16.936dce28.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/160.15c6cee4.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/161.f3dbf21a.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/162.0fcbb545.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/163.ae57cad8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/164.179b8954.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/165.cf240db6.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/166.371e8979.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/167.cf738de6.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/168.7b5b248e.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/169.352859f5.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/17.a695bb85.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/170.03297b8f.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/171.794cb830.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/172.2eb836c9.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/173.7c5c9e71.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/174.dceb40d6.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/175.f274f54c.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/176.4831f7ca.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/177.b86c51a6.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/178.176e8ebc.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/179.47a0d0ea.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/18.bc1e53b4.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/180.cb5ac90a.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/181.39527648.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/182.bc9d0463.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/183.7fb2a8b5.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/19.6ae4bc9b.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/20.e58d2149.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/21.f1eb37c8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/22.77949ed8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/23.cc597ce8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/24.a46ff39a.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/25.dc6b227e.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/26.c33dbed1.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/27.4b7fd4d8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/28.a636211e.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/29.52f4766d.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/3.18214ae8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/30.f1d6afcf.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/31.241046dc.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/32.b81e8cbf.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/33.9892c018.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/34.821a9a55.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/35.cb879a3d.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/36.ae0e21aa.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/37.ae3f6742.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/38.12b1127b.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/39.e29d486f.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/4.b5dbd746.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/40.fbae223a.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/41.e48e6824.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/42.e826406d.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/43.ac9a0073.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/44.5fb161af.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/45.4f8c6668.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/46.40e67586.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/47.bb56abf0.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/48.6d79fce7.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/49.6d8bfec8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/5.c45f0993.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/50.7cfc123c.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/51.8545740b.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/52.e8ed792a.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/53.9d426d1b.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/54.f122fe12.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/55.e3812369.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/56.27f79282.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/57.7e9f2c86.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/58.d19d5f26.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/59.bf21b274.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/6.6c77c85b.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/60.55fb373a.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/61.54964928.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/62.5b0f5e00.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/63.2c2b4757.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/64.40158e37.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/65.bb3b7f09.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/66.b13e8485.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/67.30dd884d.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/68.c8a0ee56.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/69.46200a69.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/7.2c2c6c86.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/70.164568fc.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/71.b2d488c8.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/72.6be7ed42.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/73.2776d604.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/74.cc547fe4.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/75.b775065d.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/76.24e7f43f.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/77.1eb0b747.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/78.b93f81d6.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/79.8a1e763b.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/8.2cd4d470.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/80.ef84e7c5.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/81.2cf0e18d.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/82.954c5645.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/83.3e899acc.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/84.c678626f.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/85.5f3158c2.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/86.19c2e22e.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/87.f53bc1f0.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/88.a41a829c.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/89.dc44727b.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/9.cac467fc.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/90.47e5d4af.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/91.3eb3a0f0.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/92.33181a81.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/93.e3beddbd.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/94.d2079092.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/95.9a672c0a.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/96.cc0f4013.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/97.4c1c3958.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/98.2b536529.js"><link rel="prefetch" href="/Jerome-Blog/assets/js/99.b1cb43f1.js">
    <link rel="stylesheet" href="/Jerome-Blog/assets/css/0.styles.7fcc56ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Jerome-Blog/" class="home-link router-link-active"><img src="/Jerome-Blog/logo.svg" alt="Jerome's Blog" class="logo"> <span class="site-name can-hide">Jerome's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Jerome-Blog/" class="nav-link">
  首页
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Jerome-Blog/" class="nav-link">
  首页
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="babel-preset-modules"><a href="#babel-preset-modules" class="header-anchor">#</a> <code>@babel/preset-modules</code></h1> <p>A Babel preset that enables async/await, Tagged Templates, arrow functions, destructured and rest parameters, and more <strong>in all modern browsers</strong> (<a href="https://caniuse.com/#feat=es6-module" target="_blank" rel="noopener noreferrer">88% of traffic<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>).</p> <p>It works around bugs and inconsistencies in modern JavaScript engines by converting broken syntax to the <em>closest non-broken modern syntax</em>.  Use this in place of <code>@babel/preset-env</code>'s <a href="https://babeljs.io/docs/en/babel-preset-env#targetsesmodules" target="_blank" rel="noopener noreferrer">target.esmodules<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> option for smaller bundle size and improved performance.</p> <p>This preset is only useful for browsers. You can serve the output to modern browsers while still supporting older browsers using the <a href="https://philipwalton.com/articles/deploying-es2015-code-in-production-today/" target="_blank" rel="noopener noreferrer">module/nomodule pattern<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- transpiled with preset-modules: --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>modern.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- transpiled with preset-env: --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">nomodule</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>legacy.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="features-supported"><a href="#features-supported" class="header-anchor">#</a> Features Supported</h3> <ul><li>JSX spread attributes are compiled to Object.assign() instead of a helper.</li> <li>Default, destructured and optional parameters are all natively supported.</li> <li>Tagged Templates are fully supported, patched for Safari 10+ and Edge 16+.</li> <li>async/await is supported without being transpiled to generators.</li> <li>Function name inference works as expected, including Arrow Functions.</li></ul> <h3 id="installation-usage"><a href="#installation-usage" class="header-anchor">#</a> Installation &amp; Usage</h3> <p>Install the preset from <a href="https://www.npmjs.com/package/@babel/preset-modules" target="_blank" rel="noopener noreferrer">npm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> @babel/preset-modules --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To use the preset, add it to your <a href="https://babeljs.io/docs/en/configuration" target="_blank" rel="noopener noreferrer">Babel Configuration<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;@babel/preset-modules&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>If you're implementing the module/nomodule pattern, your configuration might look something like this:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;modern&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;@babel/preset-modules&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;legacy&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;@babel/preset-env&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="options"><a href="#options" class="header-anchor">#</a> Options</h3> <p>There's a single Boolean <code>loose</code> option, which defaults to <code>false</code>. Passing <code>true</code> further reduces output size.</p> <p>The <code>loose</code> setting turns off a rarely-needed function name workaround for older versions of Edge. If you're not relying on <code>Function.prototype.name</code>, it's worth enabling loose mode.</p> <h3 id="how-does-it-work"><a href="#how-does-it-work" class="header-anchor">#</a> How does it work?</h3> <p>Babel’s <code>preset-env</code> is great, since it lets you define which Babel features are needed based on a browser support target. In order to make that plumbing work automatically, the preset has configuration that groups all of the new JavaScript syntax features into collections of related syntax transforms. These groups are fairly large, for example &quot;function arguments&quot; includes destructured, default and rest parameters. The groupings come from the fact that Babel’s transforms often rely on other transforms, so they can’t always be applied in isolation.</p> <p>From this grouping information, Babel enables or disables each group based on the browser support target you specify to preset-env’s <a href="https://babeljs.io/docs/en/babel-preset-env#targets" target="_blank" rel="noopener noreferrer">targets<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> option. For modern output, the <a href="https://babeljs.io/docs/en/babel-preset-env#targetsesmodules" target="_blank" rel="noopener noreferrer">targets.esmodules<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> option is effectively an alias for the set of browsers that support ES Modules: Edge 16+, Safari 10.1+, Firefox 60+ and Chrome 61+.</p> <p>Here's the problem: if any version of any browser in that list contains a bug triggered by modern syntax, the only solution we have is to enable the corresponding transform group that fixes that bug. This means that fundamentally, preset-env converts code to ES5 in order to get around syntax bugs in ES2017. Since that's the only solution at our disposal, eventually it becomes overused.</p> <p>For example, all of the new syntax features relating to function parameters are grouped into the same Babel plugin (<code>@babel/plugin-transform-function-parameters</code>). That means because Edge 16 &amp; 17 support ES Modules but have a bug related to parsing shorthand destructured parameters with default values within arrow functions, all functions get compiled from the new compact argument syntaxes down to ES5:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// this breaks in Edge 16:</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// .. but this doesn't:</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// ... and neither does this:</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a<span class="token operator">:</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>In fact, there are 23 syntax improvements for function parameters in ES2017, and only one of them is broken in ES Modules-supporting browsers. It seems unfortunate to transpile all those great features down to ES5 just for one browser!</p> <p>This plugin takes a different approach than we've historically taken with JavaScript: it transpiles the broken syntax to the closest <em>non-broken modern syntax</em>. In the above case, here's what is generated to fix all ES Modules-supporting browsers:</p> <p><strong>input:</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>args<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>output:</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a<span class="token operator">:</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>args<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>That output works in all ES Modules-supporting browsers, and is only <strong>59 bytes</strong> minified &amp; gzipped.</p> <blockquote><p>Compare this to <code>@babel/preset-env</code>'s <code>targets.esmodules</code> output (<strong>147 bytes</strong> minified &amp; gzipped):</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">_ref<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> <span class="token punctuation">{</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token operator">=</span> _ref<span class="token punctuation">;</span>

 <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">===</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

 <span class="token keyword">for</span> <span class="token punctuation">(</span>
   <span class="token keyword">var</span> _len <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
     args <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>_len <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token operator">?</span> _len <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     _key <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  _key <span class="token operator">&lt;</span> _len<span class="token punctuation">;</span> _key<span class="token operator">++</span>
 <span class="token punctuation">)</span> <span class="token punctuation">{</span>
   args<span class="token punctuation">[</span>_key <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> arguments<span class="token punctuation">[</span>_key<span class="token punctuation">]</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">return</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> args<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></blockquote> <p>The result is improved bundle size and performance, while supporting the same browsers.</p> <h3 id="important-minification"><a href="#important-minification" class="header-anchor">#</a> Important: Minification</h3> <p>The output generated by this preset includes workarounds for Safari 10, however minifiers like Terser sometimes remove these workarounds. In order to avoid shipping broken code, it's important to tell Terser to preserve the workarounds, which can be done via the <code>safari10</code> option.</p> <p>It's also generally the case that minifiers are configured to output ES5 by default, so you'll want to change the output syntax to ES2017.</p> <p>With <a href="https://github.com/terser/terser#minify-options" target="_blank" rel="noopener noreferrer">Terser's Node API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>terser<span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  ecma<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  safari10<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>With <a href="https://npm.im/terser" target="_blank" rel="noopener noreferrer">Terser CLI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>terser --ecma <span class="token number">8</span> --safari10 <span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>With <a href="https://webpack.js.org/plugins/terser-webpack-plugin/" target="_blank" rel="noopener noreferrer">terser-webpack-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          ecma<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
          safari10<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>All of the above configurations also apply to <a href="https://github.com/mishoo/UglifyJS2/tree/harmony" target="_blank" rel="noopener noreferrer">uglify-es<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
UglifyJS (2.x and prior) does not support modern JavaScript, so it cannot be used in conjunction with this preset.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/Jerome-Blog/assets/js/app.d4be290d.js" defer></script><script src="/Jerome-Blog/assets/js/2.2c15370a.js" defer></script><script src="/Jerome-Blog/assets/js/110.123dfd06.js" defer></script>
  </body>
</html>
