<!--
 * @Description: 
 * @Version: 2.0
 * @Autor: zhaojunyun-jk
 * @Date: 2020-08-17 17:29:21
 * @LastEditors: zhaojunyun-jk
 * @LastEditTime: 2020-08-17 18:17:42
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="text/javascript" src="./html2canvas.js"></script>
  <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
  <title>Document</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }
    body, html {
      height: 100%;
      width: 100%;
    }
    #capture {
      /* height: 100%; */
      width: 100%;
      /* overflow: scroll; */
      background: #f5da55;
    }
    .test-1 {
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    .test-2 {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    .test-3 {
      height: 20px;
    }
  </style>
</head>
<body>
  <div id="capture">
    <h4 style="color: #000; ">Hello world!</h4>
    <h4 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h4>
    <h4 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h4>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <h1 class="test-1" style="color: #000; ">Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</h1>
    <img class="test-2" src="data:image/png;base64,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" />
    <div class="test-3">
      <p>Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</p>
    </div>
    <!-- <div class="test-3">
      <p>Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!Hello world!</p>
    </div> -->
  </div>
  
  <script>
    $(document).ready(function(){
      $(".test-3").each(function () {
        var divH = $(this).height();
        var $p = $("p", $(this)).eq(0);
        while ($p.outerHeight() > divH) {
          $p.html($p.html().replace(/(\s)*([a-zA-Z0-9]+|\W)(\.\.\.)?$/, "..."));
        };
      });
      // html2canvas(document.querySelector("#capture")).then(canvas => {
      //   // console.log(canvas.toDataURL())
      //   // let image = new Image()
      //   // image.style.width = '100%'
      //   // image.src = canvas.toDataURL()
      //   // document.body.appendChild(image)
      //   document.body.appendChild(canvas )
      // });
    });
  </script>
</body>
</html>